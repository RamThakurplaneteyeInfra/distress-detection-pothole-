# Railway deployment configuration
[build]
builder = "NIXPACKS"

[deploy]
startCommand = "gunicorn --worker-class eventlet --workers 1 --bind 0.0.0.0:$PORT app:app"
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[env]
PYTHON_VERSION = "3.11.9"
FLASK_ENV = "production"
PORT = "8080"
WEB_CONCURRENCY = "1"

# Database configuration (replace with your Railway PostgreSQL service)
DB_HOST = "your-railway-postgres-host"
DB_PORT = "5432"
DB_NAME = "railway"
DB_USER = "postgres"
DB_PASSWORD = "your-railway-password"

# File upload settings
UPLOAD_FOLDER = "uploads"
MAX_CONTENT_LENGTH = "16777216"
